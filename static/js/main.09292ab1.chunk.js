(this["webpackJsonpcar-wash-calendar"]=this["webpackJsonpcar-wash-calendar"]||[]).push([[0],{124:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(101),d=(a(124),a(28)),r=a.n(d),n=a.p+"static/media/car-wash.e4522bb0.gif",i=a.p+"static/media/car-wash.cddd208b.png",l=a(139),o=a(142),j=a(144),b=a(141),h=a(143),O=a(111),p=a(59);a(130);const x=Object(O.a)({apiKey:"AIzaSyBLnjz1nTXh_fR9CBRW4CahMtalbvwLupc",authDomain:"car-wash-group.firebaseapp.com",projectId:"car-wash-group",storageBucket:"car-wash-group.appspot.com",messagingSenderId:"264083815693",appId:"1:264083815693:web:624db999c2368ace6e4444",measurementId:"G-0RYWCPLE1X"});var m=Object(p.d)(x),u=a(140),f=a(96),y=a(146),g=a(147),w=a(148),v=a(145),M=a(4);var Y=e=>{let{loading:t,handleClick:a,todayStatus:c}=e;console.log("today status from button comp",c);const s=void 0===c?null:c.status,d={items:[{label:"\u4f1a\u53bb\u6d17",key:"\u4f1a\u53bb\u6d17",disabled:"\u4f1a\u53bb\u6d17"===s},{label:"\u6d17\u8fc7\u4e86",key:"\u6d17\u8fc7\u4e86",disabled:"\u6d17\u8fc7\u4e86"===s},{label:"\u4e0d\u6d17\u4e86",key:"\u4e0d\u6d17\u4e86",disabled:"\u4e0d\u6d17\u4e86"===s}],onClick:e=>{let{key:t,keyPath:c,domEvent:s}=e;a(t)}};return Object(M.jsx)(u.a,{menu:d,loading:t,trigger:["click"],children:Object(M.jsxs)(f.a,{type:s?"default":"primary",shape:"round",size:"large",children:["\u4f1a\u53bb\u6d17"===s&&Object(M.jsx)(y.a,{twoToneColor:"#0ca237"}),"\u6d17\u8fc7\u4e86"===s&&Object(M.jsx)(g.a,{}),"\u4e0d\u6d17\u4e86"===s&&Object(M.jsx)(w.a,{twoToneColor:"#ff0000"}),"\u6211\u4eca\u5929",s||"...",Object(M.jsx)(v.a,{})]})})};const{Title:k}=l.a;function D(){const[e,t]=Object(c.useState)([]),[a,s]=Object(c.useState)(!1),d=r()().startOf("week"),l=r()("2024-03-10"),O={date:r()("2023-12-07"),peopleIndex:0},x=["Henry","Ken","Leo","Nana","Vivian"],u=[];let f,y=[];for(;d.isBefore(r()(l).endOf("week"));){const e={date:d.format("YYYY-MM-DD"),dayISO:d.format("ddd"),day:d.day(),people:d.isBefore(r()(l))?x[d.diff(O.date,"day")%5]:null};r()(e.date).isSame(new Date,"day")&&(f=e.people),y.push(e),6===e.day&&(u.push(y),y=[]),d.add(1,"days")}Object(c.useEffect)((()=>{(async()=>{try{const e=await Object(p.c)(Object(p.a)(m,"calendarMark")),a=[];e.forEach((e=>{a.push({id:e.id,...e.data()})})),t(a),console.log("data from fb",a)}catch(e){console.error("Error fetching data: ",e)}})()}),[]);const g=e.find((e=>e.id===r()().format("YYYYMMDD")));return Object(M.jsxs)("div",{className:"App",children:[Object(M.jsxs)(o.a,{align:"middle",children:[Object(M.jsx)(j.a,{xs:24,sm:24,md:24,lg:12,xl:12,children:Object(M.jsx)("img",{src:n,style:{width:"100%"}})}),Object(M.jsx)(j.a,{xs:24,sm:24,md:24,lg:12,xl:12,children:Object(M.jsx)(b.a.Ribbon,{text:r()().format("LL"),children:Object(M.jsxs)(h.a,{vertical:"vertical",justify:"center",align:"center",style:{minHeight:"280px"},children:[Object(M.jsx)(k,{level:4,children:"\u4eca\u5929\u6d17\u8f66\u7684\u662f"}),Object(M.jsx)(k,{children:f}),Object(M.jsx)(Y,{loading:a,handleClick:async e=>{try{s(!0);const c=r()().format("YYYYMMDD"),d={date:r()().format("YYYY-MM-DD"),person:f||"",status:e},n=Object(p.b)(Object(p.a)(m,"calendarMark"),c);await Object(p.e)(n,d),a={id:c,...d},t((e=>{const t=e.findIndex((e=>e.id===a.id));return-1!==t?e.map(((e,c)=>c===t?{...a}:e)):[...e,a]})),console.log("Document written with ID: ",n.id)}catch(c){console.error("Error adding document: ",c)}finally{s(!1)}var a},todayStatus:g})]})})})]}),Object(M.jsx)("h3",{}),Object(M.jsxs)("table",{children:[Object(M.jsxs)("thead",{children:[Object(M.jsx)("tr",{children:Object(M.jsxs)("th",{colSpan:7,children:["Days remaining: ",Math.abs(r()().diff(l,"days"))]})}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:"Sun"}),Object(M.jsx)("th",{children:"Mon"}),Object(M.jsx)("th",{children:"Tue"}),Object(M.jsx)("th",{children:"Wed"}),Object(M.jsx)("th",{children:"Thu"}),Object(M.jsx)("th",{children:"Fri"}),Object(M.jsx)("th",{children:"Sat"})]})]}),Object(M.jsx)("tbody",{children:u.map(((e,t)=>Object(M.jsx)("tr",{children:e.map(((e,t)=>Object(M.jsx)("td",{className:r()(e.date).isSame(r()(),"day")?"active":r()(e.date).isBefore(r()())?"past":"future",children:Object(M.jsxs)("div",{className:"day",children:[Object(M.jsx)("div",{className:"header",children:r()(e.date).format("MMM DD")}),Object(M.jsx)("div",{className:"icon",children:Object(M.jsx)("img",{src:i})}),Object(M.jsx)("div",{className:"people",children:e.people})]})},t)))},t)))})]})]})}const S=document.getElementById("root");Object(s.createRoot)(S).render(Object(M.jsx)(c.StrictMode,{children:Object(M.jsx)(D,{})}))}},[[129,1,2]]]);
//# sourceMappingURL=main.09292ab1.chunk.js.map